{% comment %}theme-check-disable UndefinedObject{% endcomment %}

{%- style -%}
  .footer {
    margin-top: {{ section.settings.margin_top | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .footer {
      margin-top: {{ section.settings.margin_top }}px;
    }
  }
{%- endstyle -%}

<footer class='w-full border-t border-shadow/20 py-6 md:py-16 pb-6 md:pb-6 px-4 footer color-{{ section.settings.color_scheme }} section-{{ section.id }}-padding'>
  {%- liquid
    assign has_social_icons = true
    if settings.social_facebook_link == blank and settings.social_instagram_link == blank and settings.social_youtube_link == blank and settings.social_tiktok_link == blank and settings.social_twitter_link == blank and settings.social_pinterest_link == blank and settings.social_snapchat_link == blank and settings.social_tumblr_link == blank and settings.social_vimeo_link == blank
      assign has_social_icons = false
    endif

    if settings.brand_image == blank and settings.brand_headline == blank and settings.brand_description == blank
      assign brand_empty = true
    endif

    if section.blocks.size == 1 and section.blocks[0].type == 'brand_information' and brand_empty and has_social_icons == false and section.settings.newsletter_enable == false and section.settings.enable_follow_on_shop == false
      assign only_empty_brand = true
    endif
  -%}

  <div class='w-full'>
    <!-- Main Footer Content -->
    <div class='flex flex-col lg:flex-row justify-between items-start lg:items-center gap-8 mb-12'>
      <!-- Logo -->
      <div class='shrink-0'>
        <a href='{{ routes.root_url }}' class='block'>
          {%- if settings.logo != blank -%}
            {%- assign logo_alt = settings.logo.alt | default: shop.name | escape -%}
            {%- assign logo_height = settings.logo_width | divided_by: settings.logo.aspect_ratio -%}
            {{
              settings.logo
              | image_url: width: 400
              | image_tag:
                class: 'h-8 w-auto',
                alt: logo_alt,
                width: settings.logo_width,
                height: logo_height,
                loading: 'lazy'
            }}
          {%- else -%}
            <img
              src='{{ 'logo.png' | asset_url }}'
              alt='{{ shop.name | escape }}'
              class='h-8 w-auto'
              width='200'
              height='50'
              loading='lazy'
            >
          {%- endif -%}
        </a>
      </div>

      <!-- Navigation Links -->
      <nav class='grid grid-cols-2 sm:flex sm:flex-row gap-6 lg:gap-8 w-full sm:w-auto'>
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'link_list' -%}
              {%- if block.settings.menu != blank -%}
                {%- for link in block.settings.menu.links -%}
                  <a
                    href='{{ link.url }}'
                    class='text-black hover:text-brown transition-colors duration-300 font-medium group'
                  >
                    {% render 'inline-hover-underline', content: link.title %}
                  </a>
                {%- endfor -%}
              {%- endif -%}
          {%- endcase -%}
        {%- endfor -%}
      </nav>

      <!-- Social Links -->
      {%- if section.settings.show_social and has_social_icons -%}
        <ul class='flex flex-wrap gap-4 text-current/60'>
          {%- if settings.social_instagram_link != blank -%}
            <li>
              {% render 'cta', href: settings.social_instagram_link, icon: 'arrow-up-right', content: 'Instagram' %}
            </li>
          {%- endif -%}
          {%- if settings.social_facebook_link != blank -%}
            <li>
              {% render 'cta', href: settings.social_facebook_link, icon: 'arrow-up-right', content: 'Facebook' %}
            </li>
          {%- endif -%}
          {%- if settings.social_twitter_link != blank -%}
            <li>
              {% render 'cta', href: settings.social_twitter_link, icon: 'arrow-up-right', content: 'Twitter' %}
            </li>
          {%- endif -%}
          {%- if settings.social_youtube_link != blank -%}
            <li>
              {% render 'cta', href: settings.social_youtube_link, icon: 'arrow-up-right', content: 'YouTube' %}
            </li>
          {%- endif -%}
          {%- if settings.social_pinterest_link != blank -%}
            <li>
              {% render 'cta', href: settings.social_pinterest_link, icon: 'arrow-up-right', content: 'Pinterest' %}
            </li>
          {%- endif -%}
          {%- if settings.social_tiktok_link != blank -%}
            <li>
              {% render 'cta', href: settings.social_tiktok_link, icon: 'arrow-up-right', content: 'TikTok' %}
            </li>
          {%- endif -%}
        </ul>
      {%- endif -%}
    </div>

    <!-- Copyright and Legal Section -->
    <div class='border-t border-shadow/20 pt-8'>
      <div class='flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4'>
        <!-- Copyright -->
        <p class='text-sm text-shadow'>
          Â© {{ 'now' | date: '%Y' }}
          {{ shop.name }}. All rights reserved.
        </p>

        <!-- Legal Links & Policies -->
        <div class='flex flex-wrap gap-6'>
          {%- if section.settings.show_policy -%}
            {%- for policy in shop.policies -%}
              {%- if policy != blank -%}
                <a
                  href='{{ policy.url }}'
                  class='text-sm text-shadow hover:text-black transition-colors duration-300 underline'
                >
                  {{ policy.title | escape }}
                </a>
              {%- endif -%}
            {%- endfor -%}
          {%- endif -%}
        </div>
      </div>

      <!-- Localization & Payment -->
      <div class='flex flex-col sm:flex-row gap-6 mt-6 pt-6 border-t border-shadow/20'>
        <div class='flex gap-6'>
          {%- if section.settings.enable_country_selector and localization.available_countries.size > 1 -%}
            <localization-form>
              {%- form 'localization', id: 'FooterCountryForm', class: 'localization-form' -%}
                <div>
                  <h2 class='text-xs text-shadow mb-2' id='FooterCountryLabel'>
                    {{ 'localization.country_label' | t }}
                  </h2>
                  {%- render 'country-localization', localPosition: 'FooterCountry' -%}
                </div>
              {%- endform -%}
            </localization-form>
          {%- endif -%}

          {%- if section.settings.enable_language_selector and localization.available_languages.size > 1 -%}
            <localization-form>
              {%- form 'localization', id: 'FooterLanguageForm', class: 'localization-form' -%}
                <div>
                  <h2 class='text-xs text-shadow mb-2' id='FooterLanguageLabel'>
                    {{ 'localization.language_label' | t }}
                  </h2>
                  {%- render 'language-localization', localPosition: 'FooterLanguage' -%}
                </div>
              {%- endform -%}
            </localization-form>
          {%- endif -%}
        </div>

        {%- if section.settings.payment_enable -%}
          <div class='flex-1'>
            <span class='text-xs text-shadow block mb-2'>{{ 'sections.footer.payment' | t }}</span>
            <ul class='flex flex-wrap gap-2' role='list'>
              {%- for type in shop.enabled_payment_types -%}
                <li>
                  {{ type | payment_type_svg_tag: class: 'w-8 h-6' }}
                </li>
              {%- endfor -%}
            </ul>
          </div>
        {%- endif -%}
      </div>

      {%- if shop.features.follow_on_shop? and section.settings.enable_follow_on_shop -%}
        <div class='mt-6 pt-6 border-t border-shadow/20'>
          {{ shop | login_button: action: 'follow' }}
        </div>
      {%- endif -%}
    </div>
  </div>
  <!-- Footer Background Image Section -->
  {%- if section.settings.show_background_image -%}
    <div class='w-full bg-brown overflow-hidden mt-8 md:mt-16 footer-logo-abstract relative max-h-[700px] flex items-center justify-center'>
      {%- if section.settings.background_image != blank -%}
        {%- assign background_alt = section.settings.background_image.alt | default: 'Background image' | escape -%}
        {{
          section.settings.background_image
          | image_url: width: 1200
          | image_tag:
            class: 'w-full h-full absolute left-0 top-0 object-cover',
            alt: background_alt,
            width: 1200,
            height: 700,
            loading: 'lazy'
        }}
      {%- else -%}
        <img
          src='{{ 'footer-placeholder.jpg' | asset_url }}'
          class='w-full h-full absolute left-0 top-0 object-cover'
          alt='Studio background'
          width='1200'
          height='700'
          loading='lazy'
        >
      {%- endif -%}
      <svg
        width='1798'
        height='863'
        viewBox='0 0 1798 863'
        fill='none'
        xmlns='http://www.w3.org/2000/svg'
        class='w-auto h-auto max-w-full max-h-auto top-px -mt-px relative z-10'
      >
        <mask id="mask0_173_50" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="1798" height="863">
          <rect width="1798" height="863" fill="#D9D9D9"/>
        </mask>
        <g mask="url(#mask0_173_50)">
          <mask id="mask1_173_50" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="-5" y="-4" width="1808" height="1808">
            <path d="M863.605 1803.53H934.389V-3.31908H863.605V1803.53Z" fill="black"/>
            <path d="M1098.75 1781.91L631.08 36.632L699.385 18.3126L1167.05 1763.59L1098.75 1781.91Z" fill="black"/>
            <path d="M1320.15 1700.19L416.745 135.425L477.984 100.029L1381.39 1664.79L1320.15 1700.19Z" fill="black"/>
            <path d="M1512.89 1563.94L235.251 286.309L285.237 236.258L1562.88 1513.89L1512.89 1563.94Z" fill="black"/>
            <path d="M1663.77 1382.47L99.0327 479.046L134.363 417.755L1699.1 1321.17L1663.77 1382.47Z" fill="black"/>
            <path d="M1762.56 1168.11L17.25 700.47L35.5694 632.086L1780.88 1099.74L1762.56 1168.11Z" fill="black"/>
            <path d="M35.5694 1168.11L17.25 1099.74L1762.56 632.086L1780.88 700.47L35.5694 1168.11Z" fill="black"/>
            <path d="M134.363 1382.47L99.0327 1321.17L1663.77 417.755L1699.1 479.046L134.363 1382.47Z" fill="black"/>
            <path d="M285.237 1563.94L235.251 1513.89L1512.89 236.258L1562.88 286.309L285.237 1563.94Z" fill="black"/>
            <path d="M477.984 1700.19L416.745 1664.79L1320.15 100.029L1381.39 135.425L477.984 1700.19Z" fill="black"/>
            <path d="M699.385 1781.91L631.08 1763.59L1098.75 18.3126L1167.05 36.632L699.385 1781.91Z" fill="black"/>
          </mask>
          <g mask="url(#mask1_173_50)">
            <rect x="-18" width="1821" height="987" fill="#EAE6DD"/>
          </g>
        </g>
      </svg>
    </div>
  {%- endif -%}
</footer>

{% schema %}
{
  "name": "t:sections.footer.name",
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "link_list",
      "name": "t:sections.footer.blocks.link_list.name",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "heading",
          "default": "t:sections.footer.blocks.link_list.settings.heading.default",
          "label": "t:sections.footer.blocks.link_list.settings.heading.label"
        },
        {
          "type": "link_list",
          "id": "menu",
          "default": "footer",
          "label": "t:sections.footer.blocks.link_list.settings.menu.label",
          "info": "t:sections.footer.blocks.link_list.settings.menu.info"
        }
      ]
    },
    {
      "type": "brand_information",
      "name": "t:sections.footer.blocks.brand_information.name",
      "settings": [
        {
          "type": "paragraph",
          "content": "t:sections.footer.blocks.brand_information.settings.paragraph.content"
        },
        {
          "type": "header",
          "content": "t:sections.footer.blocks.brand_information.settings.header__1.content"
        },
        {
          "type": "checkbox",
          "id": "show_social",
          "default": true,
          "label": "t:sections.footer.blocks.brand_information.settings.show_social.label",
          "info": "t:sections.footer.blocks.brand_information.settings.show_social.info"
        }
      ]
    },
    {
      "type": "text",
      "name": "t:sections.footer.blocks.text.name",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "heading",
          "default": "t:sections.footer.blocks.text.settings.heading.default",
          "label": "t:sections.footer.blocks.text.settings.heading.label"
        },
        {
          "type": "richtext",
          "id": "subtext",
          "default": "t:sections.footer.blocks.text.settings.subtext.default",
          "label": "t:sections.footer.blocks.text.settings.subtext.label"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "range",
          "id": "image_width",
          "min": 50,
          "max": 550,
          "step": 5,
          "unit": "px",
          "label": "Image width",
          "default": 100
        },
        {
          "type": "select",
          "id": "alignment",
          "label": "Image alignment on large screen",
          "options": [
            {
              "value": "",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__1.content",
      "info": "t:sections.footer.settings.header__1.info"
    },
    {
      "type": "inline_richtext",
      "id": "newsletter_heading",
      "default": "t:sections.footer.settings.newsletter_heading.default",
      "label": "t:sections.footer.settings.newsletter_heading.label"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__9.content",
      "info": "t:sections.footer.settings.header__9.info"
    },
    {
      "type": "checkbox",
      "id": "enable_follow_on_shop",
      "default": true,
      "label": "t:sections.footer.settings.enable_follow_on_shop.label"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__2.content",
      "info": "t:sections.footer.settings.header__2.info"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "default": true,
      "label": "t:sections.footer.settings.show_social.label"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__3.content",
      "info": "t:sections.footer.settings.header__4.info"
    },
    {
      "type": "checkbox",
      "id": "enable_country_selector",
      "default": true,
      "label": "t:sections.footer.settings.enable_country_selector.label"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__5.content",
      "info": "t:sections.footer.settings.header__6.info"
    },
    {
      "type": "checkbox",
      "id": "enable_language_selector",
      "default": true,
      "label": "t:sections.footer.settings.enable_language_selector.label"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__7.content"
    },
    {
      "type": "checkbox",
      "id": "payment_enable",
      "default": true,
      "label": "t:sections.footer.settings.payment_enable.label"
    },
    {
      "type": "header",
      "content": "t:sections.footer.settings.header__8.content",
      "info": "t:sections.footer.settings.header__8.info"
    },
    {
      "type": "checkbox",
      "id": "show_policy",
      "default": true,
      "label": "t:sections.footer.settings.show_policy.label"
    },
    {
      "type": "header",
      "content": "Background Image"
    },
    {
      "type": "checkbox",
      "id": "show_background_image",
      "default": true,
      "label": "Show background image section"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image",
      "info": "Optional custom background image. If not selected, default studio image will be used."
    },
    {
      "type": "header",
      "content": "t:sections.all.spacing"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.footer.settings.margin_top.label",
      "default": 0
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "link_list"
      }
    ]
  }
}
{% endschema %}
